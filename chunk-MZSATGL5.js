import{a as ae,b as le,c as b,d as oe,e as re,f as de,h as _,i as ce,j as he,k as ue,l as pe,m as me,n as ge,o as fe,q as ve}from"./chunk-VNNP37DW.js";import{f as v,g as J,j as ee,o as te,p as ie,r as ne,s as se}from"./chunk-AOA2BZZR.js";import"./chunk-ZCNPA7MA.js";import{A as K,Aa as E,Ab as X,B as q,Bb as Y,Ha as u,Ia as G,Ib as f,Ja as z,La as Q,Na as w,Oa as m,Pa as F,Q as O,Qa as U,R as B,S as M,Sa as D,Ta as C,V as j,ab as o,ba as p,bb as a,cb as g,da as A,fa as T,gb as N,j as x,jb as I,lb as d,pb as Z,r as P,sb as S,w as R,y as H,yb as $}from"./chunk-FY5AWN3W.js";var Ie=0,V=class extends ne{constructor(n=!1,Ae,e=!0,t){super(!0,Ae,e,t),this.multiple=n}isMultipleSelection(){return this.multiple}select(...n){return this.multiple?super.select(...n):super.setSelection(...n)}},W=(()=>{let n=class n{constructor(){this._generatedId=`cdk-option-${Ie++}`,this._disabled=!1,this.element=p(E).nativeElement,this.listbox=p(L),this.destroyed=new x,this._clicked=new x}get id(){return this._id||this._generatedId}set id(e){this._id=e}get disabled(){return this.listbox.disabled||this._disabled}set disabled(e){this._disabled=e}get enabledTabIndex(){return this._enabledTabIndex===void 0?this.listbox.enabledTabIndex:this._enabledTabIndex}set enabledTabIndex(e){this._enabledTabIndex=e}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}isSelected(){return this.listbox.isSelected(this)}isActive(){return this.listbox.isActive(this)}toggle(){this.listbox.toggle(this)}select(){this.listbox.select(this)}deselect(){this.listbox.deselect(this)}focus(){this.element.focus()}getLabel(){return(this.typeaheadLabel??this.element.textContent?.trim())||""}setActiveStyles(){}setInactiveStyles(){}_handleFocus(){this.listbox.useActiveDescendant&&(this.listbox._setActiveOption(this),this.listbox.focus())}_getTabIndex(){return this.listbox.useActiveDescendant||this.disabled?-1:this.isActive()?this.enabledTabIndex:-1}};n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=T({type:n,selectors:[["","cdkOption",""]],hostAttrs:["role","option",1,"cdk-option"],hostVars:6,hostBindings:function(t,i){t&1&&I("click",function(l){return i._clicked.next(l)})("focus",function(){return i._handleFocus()}),t&2&&(N("id",i.id),m("aria-selected",i.isSelected())("tabindex",i._getTabIndex())("aria-disabled",i.disabled),U("cdk-option-active",i.isActive()))},inputs:{id:"id",value:["cdkOption","value"],typeaheadLabel:["cdkOptionTypeaheadLabel","typeaheadLabel"],disabled:["cdkOptionDisabled","disabled",f],enabledTabIndex:["tabindex","enabledTabIndex"]},exportAs:["cdkOption"],standalone:!0,features:[w]});let r=n;return r})(),L=(()=>{let n=class n{get id(){return this._id||this._generatedId}set id(e){this._id=e}get enabledTabIndex(){return this._enabledTabIndex===void 0?0:this._enabledTabIndex}set enabledTabIndex(e){this._enabledTabIndex=e}get value(){return this._invalid?[]:this.selectionModel.selected}set value(e){this._setSelection(e)}get multiple(){return this.selectionModel.multiple}set multiple(e){this.selectionModel.multiple=e,this.options&&this._updateInternalValue()}get orientation(){return this._orientation}set orientation(e){this._orientation=e==="horizontal"?"horizontal":"vertical",e==="horizontal"?this.listKeyManager?.withHorizontalOrientation(this._dir?.value||"ltr"):this.listKeyManager?.withVerticalOrientation()}get compareWith(){return this.selectionModel.compareWith}set compareWith(e){this.selectionModel.compareWith=e}get navigationWrapDisabled(){return this._navigationWrapDisabled}set navigationWrapDisabled(e){this._navigationWrapDisabled=e,this.listKeyManager?.withWrap(!this._navigationWrapDisabled)}get navigateDisabledOptions(){return this._navigateDisabledOptions}set navigateDisabledOptions(e){this._navigateDisabledOptions=e,this.listKeyManager?.skipPredicate(this._navigateDisabledOptions?this._skipNonePredicate:this._skipDisabledPredicate)}constructor(){this._generatedId=`cdk-listbox-${Ie++}`,this.disabled=!1,this.useActiveDescendant=!1,this._orientation="vertical",this._navigationWrapDisabled=!1,this._navigateDisabledOptions=!1,this.valueChange=new x,this.selectionModel=new V,this.destroyed=new x,this.element=p(E).nativeElement,this.ngZone=p(Q),this.changeDetectorRef=p(z),this._invalid=!1,this._lastTriggered=null,this._onTouched=()=>{},this._onChange=()=>{},this._optionClicked=R(()=>this.options.changes.pipe(O(this.options),B(e=>K(...e.map(t=>t._clicked.pipe(P(i=>({option:t,event:i})))))))),this._dir=p(ie,{optional:!0}),this._skipDisabledPredicate=e=>e.disabled,this._skipNonePredicate=()=>!1,this._hasFocus=!1,this._previousActiveOption=null,this._setPreviousActiveOptionAsActiveOptionOnWindowBlur()}ngAfterContentInit(){this._initKeyManager(),K(this.selectionModel.changed,this.options.changes).pipe(O(null),M(this.destroyed)).subscribe(()=>this._updateInternalValue()),this._optionClicked.pipe(q(({option:e})=>!e.disabled),M(this.destroyed)).subscribe(({option:e,event:t})=>this._handleOptionClicked(e,t))}ngOnDestroy(){this.listKeyManager?.destroy(),this.destroyed.next(),this.destroyed.complete()}toggle(e){this.toggleValue(e.value)}toggleValue(e){this._invalid&&this.selectionModel.clear(!1),this.selectionModel.toggle(e)}select(e){this.selectValue(e.value)}selectValue(e){this._invalid&&this.selectionModel.clear(!1),this.selectionModel.select(e)}deselect(e){this.deselectValue(e.value)}deselectValue(e){this._invalid&&this.selectionModel.clear(!1),this.selectionModel.deselect(e)}setAllSelected(e){e?(this._invalid&&this.selectionModel.clear(!1),this.selectionModel.select(...this.options.map(t=>t.value))):this.selectionModel.clear()}isSelected(e){return this.isValueSelected(e.value)}isActive(e){return this.listKeyManager?.activeItem===e}isValueSelected(e){return this._invalid?!1:this.selectionModel.isSelected(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}writeValue(e){this._setSelection(e),this._verifyOptionValues()}setDisabledState(e){this.disabled=e}focus(){this.element.focus()}triggerOption(e){e&&!e.disabled&&(this._lastTriggered=e,(this.multiple?this.selectionModel.toggle(e.value):this.selectionModel.select(e.value))&&(this._onChange(this.value),this.valueChange.next({value:this.value,listbox:this,option:e})))}triggerRange(e,t,i,s){if(this.disabled||e&&e.disabled)return;this._lastTriggered=e;let l=this.compareWith??Object.is,c=[...this.options].slice(Math.max(0,Math.min(t,i)),Math.min(this.options.length,Math.max(t,i)+1)).filter(y=>!y.disabled).map(y=>y.value),h=[...this.value];for(let y of c){let k=h.findIndex(De=>l(De,y));s&&k===-1?h.push(y):!s&&k!==-1&&h.splice(k,1)}this.selectionModel.setSelection(...h)&&(this._onChange(this.value),this.valueChange.next({value:this.value,listbox:this,option:e}))}_setActiveOption(e){this.listKeyManager.setActiveItem(e)}_handleFocus(){this.useActiveDescendant||(this.selectionModel.selected.length>0?this._setNextFocusToSelectedOption():this.listKeyManager.setNextItemActive(),this._focusActiveOption())}_handleKeydown(e){if(this.disabled)return;let{keyCode:t}=e,i=this.listKeyManager.activeItemIndex,s=["ctrlKey","metaKey"];if(this.multiple&&t===65&&v(e,...s)){this.triggerRange(null,0,this.options.length-1,this.options.length!==this.value.length),e.preventDefault();return}if(this.multiple&&(t===32||t===13)&&v(e,"shiftKey")){this.listKeyManager.activeItem&&this.listKeyManager.activeItemIndex!=null&&this.triggerRange(this.listKeyManager.activeItem,this._getLastTriggeredIndex()??this.listKeyManager.activeItemIndex,this.listKeyManager.activeItemIndex,!this.listKeyManager.activeItem.isSelected()),e.preventDefault();return}if(this.multiple&&t===36&&v(e,...s)&&v(e,"shiftKey")){let c=this.listKeyManager.activeItem;if(c){let h=this.listKeyManager.activeItemIndex;this.listKeyManager.setFirstItemActive(),this.triggerRange(c,h,this.listKeyManager.activeItemIndex,!c.isSelected())}e.preventDefault();return}if(this.multiple&&t===35&&v(e,...s)&&v(e,"shiftKey")){let c=this.listKeyManager.activeItem;if(c){let h=this.listKeyManager.activeItemIndex;this.listKeyManager.setLastItemActive(),this.triggerRange(c,h,this.listKeyManager.activeItemIndex,!c.isSelected())}e.preventDefault();return}if(t===32||t===13){this.triggerOption(this.listKeyManager.activeItem),e.preventDefault();return}let l=t===38||t===40||t===37||t===39||t===36||t===35;this.listKeyManager.onKeydown(e),l&&e.shiftKey&&i!==this.listKeyManager.activeItemIndex&&this.triggerOption(this.listKeyManager.activeItem)}_handleFocusIn(){this._hasFocus=!0}_handleFocusOut(e){this._previousActiveOption=this.listKeyManager.activeItem;let t=e.relatedTarget;this.element!==t&&!this.element.contains(t)&&(this._onTouched(),this._hasFocus=!1,this._setNextFocusToSelectedOption())}_getAriaActiveDescendant(){return this.useActiveDescendant?this.listKeyManager?.activeItem?.id:null}_getTabIndex(){return this.disabled?-1:this.useActiveDescendant||!this.listKeyManager.activeItem?this.enabledTabIndex:-1}_initKeyManager(){this.listKeyManager=new ee(this.options).withWrap(!this._navigationWrapDisabled).withTypeAhead().withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._navigateDisabledOptions?this._skipNonePredicate:this._skipDisabledPredicate),this.orientation==="vertical"?this.listKeyManager.withVerticalOrientation():this.listKeyManager.withHorizontalOrientation(this._dir?.value||"ltr"),this.selectionModel.selected.length&&Promise.resolve().then(()=>this._setNextFocusToSelectedOption()),this.listKeyManager.change.subscribe(()=>this._focusActiveOption())}_focusActiveOption(){this.useActiveDescendant||this.listKeyManager.activeItem?.focus(),this.changeDetectorRef.markForCheck()}_setSelection(e){this._invalid&&this.selectionModel.clear(!1),this.selectionModel.setSelection(...this._coerceValue(e)),this._hasFocus||this._setNextFocusToSelectedOption()}_setNextFocusToSelectedOption(){let e=this.options?.find(t=>t.isSelected());e&&this.listKeyManager.updateActiveItem(e)}_updateInternalValue(){let e=new Map;this.selectionModel.sort((i,s)=>{let l=this._getIndexForValue(e,i),c=this._getIndexForValue(e,s);return l-c});let t=this.selectionModel.selected;this._invalid=!this.multiple&&t.length>1||!!this._getInvalidOptionValues(t).length,this.changeDetectorRef.markForCheck()}_getIndexForValue(e,t){let i=this.compareWith||Object.is;if(!e.has(t)){let s=-1;for(let l=0;l<this.options.length;l++)if(i(t,this.options.get(l).value)){s=l;break}e.set(t,s)}return e.get(t)}_handleOptionClicked(e,t){t.preventDefault(),this.listKeyManager.setActiveItem(e),t.shiftKey&&this.multiple?this.triggerRange(e,this._getLastTriggeredIndex()??this.listKeyManager.activeItemIndex,this.listKeyManager.activeItemIndex,!e.isSelected()):this.triggerOption(e)}_verifyNoOptionValueCollisions(){this.options.changes.pipe(O(this.options),M(this.destroyed)).subscribe(()=>{let e=this.compareWith??Object.is;for(let t=0;t<this.options.length;t++){let i=this.options.get(t),s=null;for(let l=t+1;l<this.options.length;l++){let c=this.options.get(l);if(e(i.value,c.value)){s=c;break}}if(s){this.compareWith?console.warn("Found multiple CdkOption representing the same value under the given compareWith function",{option1:i.element,option2:s.element,compareWith:this.compareWith}):console.warn("Found multiple CdkOption with the same value",{option1:i.element,option2:s.element});return}}})}_verifyOptionValues(){this.options}_coerceValue(e){return e==null?[]:J(e)}_getInvalidOptionValues(e){let t=this.compareWith||Object.is,i=(this.options||[]).map(s=>s.value);return e.filter(s=>!i.some(l=>t(s,l)))}_getLastTriggeredIndex(){let e=this.options.toArray().indexOf(this._lastTriggered);return e===-1?null:e}_setPreviousActiveOptionAsActiveOptionOnWindowBlur(){this.ngZone.runOutsideAngular(()=>{H(window,"blur").pipe(M(this.destroyed)).subscribe(()=>{this.element.contains(document.activeElement)&&this._previousActiveOption&&(this._setActiveOption(this._previousActiveOption),this._previousActiveOption=null)})})}};n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=T({type:n,selectors:[["","cdkListbox",""]],contentQueries:function(t,i,s){if(t&1&&X(s,W,5),t&2){let l;$(l=Y())&&(i.options=l)}},hostAttrs:["role","listbox",1,"cdk-listbox"],hostVars:6,hostBindings:function(t,i){t&1&&I("focus",function(){return i._handleFocus()})("keydown",function(l){return i._handleKeydown(l)})("focusout",function(l){return i._handleFocusOut(l)})("focusin",function(){return i._handleFocusIn()}),t&2&&(N("id",i.id),m("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("aria-multiselectable",i.multiple)("aria-activedescendant",i._getAriaActiveDescendant())("aria-orientation",i.orientation))},inputs:{id:"id",enabledTabIndex:["tabindex","enabledTabIndex"],value:["cdkListboxValue","value"],multiple:["cdkListboxMultiple","multiple",f],disabled:["cdkListboxDisabled","disabled",f],useActiveDescendant:["cdkListboxUseActiveDescendant","useActiveDescendant",f],orientation:["cdkListboxOrientation","orientation"],compareWith:["cdkListboxCompareWith","compareWith"],navigationWrapDisabled:["cdkListboxNavigationWrapDisabled","navigationWrapDisabled",f],navigateDisabledOptions:["cdkListboxNavigatesDisabledOptions","navigateDisabledOptions",f]},outputs:{valueChange:"cdkListboxValueChange"},exportAs:["cdkListbox"],standalone:!0,features:[Z([{provide:ae,useExisting:j(()=>n),multi:!0}]),w]});let r=n;return r})();function Ee(r,n){r&1&&(o(0,"p",28),d(1," You must enter a short title (max. 20 characters). "),a())}function we(r,n){r&1&&(o(0,"p",29),d(1,"A timer must be set."),a())}function Fe(r,n){r&1&&(o(0,"p",30),d(1,"A duration must be set."),a())}var Oe=(()=>{let n=class n{constructor(e){this.alertService=e,this.form=new de({title:new _("",{nonNullable:!0,validators:[b.required,b.maxLength(20)]}),description:new _("",{nonNullable:!0}),politeness:new _("polite",{nonNullable:!0,validators:b.required}),role:new _("status",{nonNullable:!0,validators:b.required}),timer:new _(5e3,{nonNullable:!0,validators:b.required}),duration:new _(3e3,{nonNullable:!0,validators:b.required})})}isInvalid(e){let t=this.form.controls[e];return t.invalid&&(t.dirty||t.touched)}submitForm(){let e=this.form.value;this.alertService.addAlert(e),this.form.reset()}};n.\u0275fac=function(t){return new(t||n)(G(se))},n.\u0275cmp=A({type:n,selectors:[["app-alert-form"]],standalone:!0,features:[S],decls:50,vars:8,consts:[[3,"formGroup","ngSubmit"],[1,"form-field"],["for","title",1,"elm-label"],["type","text","placeholder","My notification title","formControlName","title","id","title","aria-describedby","titlehint"],["id","titlehint","class","description"],["for","description",1,"elm-label"],["type","text","placeholder","My notification description","formControlName","description","id","description","aria-invalid","false"],[1,"form-field-group"],["id","politeness"],["cdkListbox","","cdkListboxOrientation","horizontal","aria-labelledby","politeness","formControlName","politeness",1,"list-box"],["cdkOption","off"],["cdkOption","polite"],["cdkOption","assertive"],["for","role"],["formControlName","role","id","role","aria-invalid","false"],["value","status","selected",""],["value","alert"],["value","marquee"],["value","log"],["value","progress"],["value","timer"],["for","timer",1,"elm-label"],["type","number","formControlName","timer","id","timer","aria-describedby","timerhint"],["id","timerhint","class","description"],["for","duration",1,"elm-label"],["type","number","formControlName","duration","id","duration","aria-describedby","durationhint"],["id","durationhint","class","description"],["type","submit",3,"disabled"],["id","titlehint",1,"description"],["id","timerhint",1,"description"],["id","durationhint",1,"description"]],template:function(t,i){t&1&&(o(0,"form",0),I("ngSubmit",function(){return i.submitForm()}),o(1,"div",1)(2,"label",2),d(3,"Title"),a(),g(4,"input",3),D(5,Ee,2,0,"p",4),a(),o(6,"div",1)(7,"label",5),d(8,"Description"),a(),g(9,"textarea",6),a(),o(10,"div",7)(11,"div",1)(12,"label",8),d(13,"Politeness"),a(),o(14,"ul",9)(15,"li",10),d(16,"Off"),a(),o(17,"li",11),d(18,"Polite"),a(),o(19,"li",12),d(20,"Assertive"),a()()(),o(21,"div",1)(22,"label",13),d(23,"Role"),a(),o(24,"select",14)(25,"option",15),d(26,"status"),a(),o(27,"option",16),d(28,"alert"),a(),o(29,"option",17),d(30,"marquee"),a(),o(31,"option",18),d(32,"log"),a(),o(33,"option",19),d(34,"progress"),a(),o(35,"option",20),d(36,"timer"),a()()()(),o(37,"div",7)(38,"div",1)(39,"label",21),d(40,"Timer"),a(),g(41,"input",22),D(42,we,2,0,"p",23),a(),o(43,"div",1)(44,"label",24),d(45,"Duration"),a(),g(46,"input",25),D(47,Fe,2,0,"p",26),a()(),o(48,"button",27),d(49,"Save"),a()()),t&2&&(F("formGroup",i.form),u(4),m("aria-invalid",i.isInvalid("title")),u(1),C(5,i.isInvalid("title")?5:-1),u(36),m("aria-invalid",i.isInvalid("timer")),u(1),C(42,i.isInvalid("timer")?42:-1),u(4),m("aria-invalid",i.isInvalid("duration")),u(1),C(47,i.isInvalid("duration")?47:-1),u(1),F("disabled",i.form.invalid))},dependencies:[te,ve,ce,ge,fe,le,he,me,oe,re,ue,pe,L,W],styles:['ul.list-box[_ngcontent-%COMP%]{display:flex;padding:0;margin:0}ul.list-box[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{display:flex;flex:1;align-items:center;justify-content:center;position:relative;list-style:none;padding:.75rem}ul.list-box[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:first-child{border-left-width:1px}ul.list-box[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:focus{background:rgba(0,0,0,.2)}ul.list-box[_ngcontent-%COMP%] > li[aria-selected=true][_ngcontent-%COMP%]:before{content:"";position:absolute;border:3px solid color-mix(in srgb,var(--electric-violet) 80%,transparent);border-radius:.5rem;inset:3px}']});let r=n;return r})();var lt=(()=>{let n=class n{};n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=A({type:n,selectors:[["app-alerts-admin-view"]],standalone:!0,features:[S],decls:3,vars:0,template:function(t,i){t&1&&(o(0,"h1"),d(1,"Administration"),a(),g(2,"app-alert-form"))},dependencies:[Oe]});let r=n;return r})();export{lt as AlertsAdminViewComponent};
