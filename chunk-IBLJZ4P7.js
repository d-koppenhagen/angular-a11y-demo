import{g as z,h as ge,i as Ce,j,k as P,l as be,m as De,n as L,o as B,p as Ae,q as xe}from"./chunk-RNQWHGD4.js";import{A as ye,B as q,E as V,d as ue,o as R,r as me,w as fe,x as _e,z as ve}from"./chunk-MR6U5RJQ.js";import{$ as I,$a as s,Aa as oe,Da as w,Ha as u,Ia as p,La as re,Ma as ae,Oa as se,Pa as E,Q as ee,Sa as C,Ta as F,Ua as W,Va as $,Wa as Q,X as te,Y as ie,a as A,aa as _,ab as c,ba as k,bb as O,da as m,ea as ne,eb as le,ia as G,ib as b,j as S,ja as H,jb as D,kb as d,lb as v,mb as M,n as J,qa as x,qb as f,vb as ce,w as X,wb as de,xb as he,zb as pe}from"./chunk-NDIMCJX6.js";function Re(o,i){}var T=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Ee=(()=>{let i=class i extends Ce{constructor(e,t,n,r,h,l,g,U){super(),this._elementRef=e,this._focusTrapFactory=t,this._config=r,this._interactivityChecker=h,this._ngZone=l,this._overlayRef=g,this._focusMonitor=U,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this.attachDomPortal=we=>{this._portalOutlet.hasAttached();let Fe=this._portalOutlet.attachDomPortal(we);return this._contentAttached(),Fe},this._document=n,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let n=()=>{e.removeEventListener("blur",n),e.removeEventListener("mousedown",n),e.removeAttribute("tabindex")};e.addEventListener("blur",n),e.addEventListener("mousedown",n)})),e.focus(t)}_focusByCssSelector(e,t){let n=this._elementRef.nativeElement.querySelector(e);n&&this._forceFocus(n,t)}_trapFocus(){let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(t=>{t||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let n=R(),r=this._elementRef.nativeElement;(!n||n===this._document.body||n===r||r.contains(n))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,t=R();return e===t||e.contains(t)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=R())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};i.\u0275fac=function(t){return new(t||i)(p(oe),p(_e),p(ue,8),p(T),p(fe),p(re),p(L),p(ve))},i.\u0275cmp=m({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(t,n){if(t&1&&he(j,7),t&2){let r;de(r=pe())&&(n._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,n){t&2&&se("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledByQueue[0])("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},standalone:!0,features:[ae,f],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,n){t&1&&C(0,Re,0,0,"ng-template",0)},dependencies:[P,j],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let o=i;return o})(),y=class{constructor(i,a){this.overlayRef=i,this.config=a,this.closed=new S,this.disableClose=a.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=a.id,this.keydownEvents.subscribe(e=>{e.keyCode===27&&!this.disableClose&&!me(e)&&(e.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{a.closeOnOverlayDetachments!==!1&&this.close()})}close(i,a){if(this.containerInstance){let e=this.closed;this.containerInstance._closeInteractionType=a?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),e.next(i),e.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",a=""){return this.overlayRef.updateSize({width:i,height:a}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}},je=new I("DialogScrollStrategy",{providedIn:"root",factory:()=>{let o=k(B);return()=>o.scrollStrategies.block()}}),Z=new I("DialogData"),Pe=new I("DefaultDialogConfig");var Le=0,K=(()=>{let i=class i{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,t,n,r,h,l){this._overlay=e,this._injector=t,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=h,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new S,this._afterOpenedAtThisLevel=new S,this._ariaHiddenElements=new Map,this.afterAllClosed=X(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ee(void 0))),this._scrollStrategy=l}open(e,t){let n=this._defaultOptions||new T;t=A(A({},n),t),t.id=t.id||`cdk-dialog-${Le++}`,t.id&&this.getDialogById(t.id);let r=this._getOverlayConfig(t),h=this._overlay.create(r),l=new y(h,t),g=this._attachContainer(h,l,t);return l.containerInstance=g,this._attachDialogContent(e,l,g,t),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){Y(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){Y(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),Y(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let t=new be({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,n){let r=n.injector||n.viewContainerRef?.injector,h=[{provide:T,useValue:n},{provide:y,useValue:t},{provide:L,useValue:e}],l;n.container?typeof n.container=="function"?l=n.container:(l=n.container.type,h.push(...n.container.providers(n))):l=Ee;let g=new z(l,n.viewContainerRef,x.create({parent:r||this._injector,providers:h}),n.componentFactoryResolver);return e.attach(g).instance}_attachDialogContent(e,t,n,r){if(e instanceof ce){let h=this._createInjector(r,t,n,void 0),l={$implicit:r.data,dialogRef:t};r.templateContext&&(l=A(A({},l),typeof r.templateContext=="function"?r.templateContext():r.templateContext)),n.attachTemplatePortal(new ge(e,null,l,h))}else{let h=this._createInjector(r,t,n,this._injector),l=n.attachComponentPortal(new z(e,r.viewContainerRef,h,r.componentFactoryResolver));t.componentRef=l,t.componentInstance=l.instance}}_createInjector(e,t,n,r){let h=e.injector||e.viewContainerRef?.injector,l=[{provide:Z,useValue:e.data},{provide:y,useValue:t}];return e.providers&&(typeof e.providers=="function"?l.push(...e.providers(t,e,n)):l.push(...e.providers)),e.direction&&(!h||!h.get(q,null,{optional:!0}))&&l.push({provide:q,useValue:{value:e.direction,change:J()}}),x.create({parent:h||r,providers:l})}_removeOpenDialog(e,t){let n=this.openDialogs.indexOf(e);n>-1&&(this.openDialogs.splice(n,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,h)=>{r?h.setAttribute("aria-hidden",r):h.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let r=t[n];r!==e&&r.nodeName!=="SCRIPT"&&r.nodeName!=="STYLE"&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}};i.\u0275fac=function(t){return new(t||i)(_(B),_(x),_(Pe,8),_(i,12),_(De),_(je))},i.\u0275prov=te({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();function Y(o,i){let a=o.length;for(;a--;)i(o[a])}var Oe=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=ne({type:i}),i.\u0275inj=ie({providers:[K],imports:[Ae,P,ye,Ee,P]});let o=i;return o})();var Se=(()=>{let i=class i{constructor(e){this.dialogRef=e,this.data=k(Z)}};i.\u0275fac=function(t){return new(t||i)(p(y))},i.\u0275cmp=m({type:i,selectors:[["app-remove-alert-dialog"]],standalone:!0,features:[f],decls:11,vars:1,consts:[[3,"click"]],template:function(t,n){t&1&&(s(0,"header")(1,"h1"),d(2,"Delete alert"),c()(),s(3,"main")(4,"p"),d(5),c()(),s(6,"footer")(7,"button",0),b("click",function(){return n.dialogRef.close(!0)}),d(8,"OK"),c(),s(9,"button",0),b("click",function(){return n.dialogRef.close(!1)}),d(10,"Cancel"),c()()),t&2&&(u(5),M('Do you really want to delete the "',n.data.title,'" alert?'))},styles:["[_nghost-%COMP%]{display:block;background:#fff;border-radius:8px;padding:8px 16px 16px}footer[_ngcontent-%COMP%]{display:flex;gap:1rem}"]});let o=i;return o})();var Ve=["app-alert-table-entry",""];function Ne(o,i){if(o&1){let a=le();s(0,"th",0),d(1),c(),s(2,"td"),d(3),c(),s(4,"td"),d(5),c(),s(6,"td"),d(7),c(),s(8,"td"),d(9),c(),s(10,"td"),d(11),c(),s(12,"td")(13,"button",1),b("click",function(){G(a);let t=D();return H(t.removeAlert(t.alert.title))}),d(14," \u{1F5D1}\uFE0F "),c()(),s(15,"td")(16,"button",2),b("click",function(){G(a);let t=D();return H(t.startAlert(t.alert.title))}),d(17),c()()}if(o&2){let a=D();u(1),v(a.alert.title),u(2),v(a.alert.description),u(2),v(a.alert.role),u(2),v(a.alert.politeness),u(2),v(a.alert.timer),u(2),v(a.alert.duration),u(5),E("disabled",!!a.alert.active),u(1),M(" ",a.alert.active?"Active":"Activate"," ")}}var Ie=(()=>{let i=class i{constructor(e,t){this.alertService=e,this.dialog=t}removeAlert(e){this.dialog.open(Se,{width:"250px",data:{title:e},ariaLabel:"Remove alert"}).closed.subscribe(n=>{n&&this.alertService.removeAlert(e)})}startAlert(e){this.alertService.activateAlert(e)}};i.\u0275fac=function(t){return new(t||i)(p(V),p(K))},i.\u0275cmp=m({type:i,selectors:[["","app-alert-table-entry",""]],inputs:{alert:"alert"},standalone:!0,features:[f],attrs:Ve,decls:1,vars:1,consts:[["scope","row"],["title","Remove Alert","aria-label","Remove Alert",3,"click"],[3,"disabled","click"]],template:function(t,n){t&1&&C(0,Ne,18,8),t&2&&F(0,n.alert?0:-1)},dependencies:[Oe],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:.5rem;text-align:left;vertical-align:top;border-bottom:1px solid var(--gray-400)}"]});let o=i;return o})();function Ge(o,i){if(o&1&&O(0,"tr",5),o&2){let a=i.$implicit;E("alert",a)}}function He(o,i){if(o&1&&O(0,"tr",5),o&2){let a=i.$implicit;E("alert",a)}}function We(o,i){if(o&1&&(s(0,"table")(1,"caption"),d(2," The table shows all configured alerts. "),s(3,"span",0),d(4,"Active alerts are listed first. Inactive alerts that were already presented are listed at the end."),c()(),s(5,"thead")(6,"tr")(7,"th",1),d(8,"Title"),c(),s(9,"th",2),d(10,"Description"),c(),s(11,"th",2),d(12,"Role"),c(),s(13,"th",2),d(14,"Politeness"),c(),s(15,"th",2),d(16,"Timer"),c(),s(17,"th",2),d(18,"Duration"),c(),s(19,"th",3),d(20,"Actions"),c()()(),s(21,"tbody"),$(22,Ge,1,1,"tr",5,W),c(),s(24,"tbody",4),$(25,He,1,1,"tr",5,W),c()()),o&2){let a=D();u(22),Q(a.activeAlerts()),u(3),Q(a.nonActiveAlerts())}}function $e(o,i){o&1&&(s(0,"p"),d(1,"No alerts configured."),c())}var ke=(()=>{let i=class i{constructor(e){this.alertService=e,this.alertsSorted=w(()=>[...this.alerts().sort((t,n)=>t.title.localeCompare(n.title))]),this.activeAlerts=w(()=>this.alertsSorted().filter(t=>!!t.active)),this.nonActiveAlerts=w(()=>this.alertsSorted().filter(t=>!t.active)),this.alerts=e.alerts}startAlert(e){this.alertService.activateAlert(e)}};i.\u0275fac=function(t){return new(t||i)(p(V))},i.\u0275cmp=m({type:i,selectors:[["app-alert-table"]],standalone:!0,features:[f],decls:2,vars:1,consts:[[1,"cdk-visually-hidden"],["scope","col","aria-sort","ascending"],["scope","col"],["scope","col","colspan","2"],[1,"inactive"],["app-alert-table-entry","",3,"alert"]],template:function(t,n){t&1&&C(0,We,27,0,"table")(1,$e,2,0),t&2&&F(0,n.alertsSorted().length?0:1)},dependencies:[Ie],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{text-align:left;margin-bottom:1rem}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--electric-violet)}table[_ngcontent-%COMP%]   tbody.inactive[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--gray-400) 5%,transparent)}"]});let o=i;return o})();var Tt=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=m({type:i,selectors:[["app-alerts-view"]],standalone:!0,features:[f],decls:4,vars:0,template:function(t,n){t&1&&(s(0,"h1"),d(1,"Alerts"),c(),s(2,"app-alert-table"),O(3,"app-alert-list"),c())},dependencies:[ke,xe]});let o=i;return o})();export{Tt as AlertsViewComponent};
